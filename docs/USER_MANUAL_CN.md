# EpochToDo 用户操作手册

EpochToDo 是一个旨在帮助开发者和知识工作者保持专注、高效管理任务流的桌面应用程序。它结合了待办事项列表、任务计时器和快速命令行功能，专为需要频繁切换上下文（Context Switching）的工作流设计。

## 1. 快速开始

### 启动应用
安装完成后，运行 EpochToDo。
- **主界面 (Dashboard)**：您的核心工作台，显示时间轴、当前专注任务、待办列表和后台任务。
- **系统托盘**：关闭主窗口后，应用会最小化到系统托盘。点击托盘图标可重新打开。

### 全局快捷键
- **`Alt + Space`**：这是 EpochToDo 的灵魂快捷键。无论你在哪个软件界面，按下它即可呼出 **Spotlight (聚光灯)** 搜索框，进行任务切换、创建或记录。

---

## 2. 核心界面介绍

### 2.1 主界面 (Dashboard)
主界面采用三列布局设计，逻辑清晰：

- **左侧栏 (Timeline)**：
    - **可视化时间轴**：显示今天的时间块分布。
    - **Focus 统计**：底部显示今日总专注时长。

- **中间栏 (Workflow)**：
    - **Current Focus (当前专注)**：最醒目的卡片，显示正在进行的任务和计时器。支持直接在此输入 **Memo (备注)**。
    - **Paused / Waiting (挂起)**：显示被暂时挂起（Suspended）或正在等待的任务（例如等待编译、等待回复）。
    - **Next Actions (待办列表)**：按项目分组的待办任务列表。支持拖拽排序。

- **右侧栏 (Background)**：
    - **Training Tasks (上)**：显示正在进行的技能训练或长时间 GPU 任务。
    - **Ad-Hoc Tasks (下)**：显示临时的后台任务（如“煮咖啡倒计时”）。

### 2.2 Spotlight (聚光灯)
按下 `Alt + Space` 呼出。这是快速控制中心，支持纯键盘操作。
- **Input Bar**：输入命令或搜索关键词。
- **Suggestions**：实时匹配现有任务。
- **快捷操作**：
    - **`Up/Down`**：选择建议列表中的任务。
    - **`Ctrl + 1~9`**：快速选择列表中的第 1-9 个任务。
    - **`Enter`**：执行命令（创建或切换）。

### 2.3 悬浮窗 (Overlay / Reminder)
- **Overlay**：在屏幕角落半透明显示当前任务，始终置顶，让你不忘记当前目标。
- **Reminder**：当计时器结束时，会弹出提醒窗口。

---

## 3. 任务体系

EpochToDo 将任务分为三种类型，适应不同场景：

1.  **Standard Focus (标准专注)**
    - **用途**：主要的工作任务（如“编写代码”、“撰写文档”）。
    - **特性**：独占前台 Focus 槽位，计时会计入总时长。
2.  **Ad-Hoc (临时/后台)**
    - **用途**：生活杂事或无需记录时长的等待（如“洗衣机30分钟”）。
    - **特性**：始终在后台运行倒计时，不打断主任务。
3.  **Training (训练/GPU)**
    - **用途**：长时间的后台计算任务（如“模型训练”）。
    - **特性**：关联 GPU 资源，独立管理，完成后可转化为标准任务进行后续处理。

---

## 4. Spotlight 命令大全

在 Spotlight 输入框中，利用特殊符号执行高级操作：

### 核心命令
| 符号 | 命令名称 | 用途 | 示例 |
| :--- | :--- | :--- | :--- |
| **`!`** | **Switch & Focus** | 立即切换到新任务。可选：挂起当前任务指定时长。 | `! 写代码` (开始任务)<br>`! 写代码 @ 20m` (挂起当前任务20分钟，转去写代码) |
| **`@`** | **Suspend** | 暂停当前任务指定时长 (进入 Waiting 列表)。 | `@ 10m` (休息/挂起10分钟)<br>`@ 1h` (挂起1小时) |
| **`>`** | **Memo** | 给**当前正在专注**的任务添加备注/Context。 | `> 发现了一个bug` |
| **`#`** | **Complete** | 进入任务完成模式，或标记指定任务完成。 | `#` (列出可完成任务)<br>`# fix bug` (搜索并完成) |

### 创建特殊任务
| 符号 | 命令名称 | 用途 | 示例 |
| :--- | :--- | :--- | :--- |
| **`+`** | **Ad-Hoc Task** | 创建临时后台倒计时任务。 | `+ 煮面 @ 5m` |
| **`%`** | **Training Task** | 创建训练任务 (进入队列)。 | `% 模型微调` |
| **\`** | **GPU Task** | 分配任务到特定 GPU 并开始。 | `模型训练` ` 4090-1 @ 2h` (注意中间的反引号) |

### 高级参数
- **时间单位**：支持 `s` (秒), `m` (分), `h` (时)。默认单位为 `m`。
    - 示例：`@ 90s`, `@ 2h`
- **指定项目**：使用 `$` 符号或在输入时匹配项目名称。
    - 示例：`写文档 $工作`

---

## 5. 常见操作流程 (Best Practices)

### 场景一：处理突发中断
你正在专注 "开发功能A"，突然同事让你 "帮忙看个Bug"。
1.  按 `Alt + Space`。
2.  输入 `! 修复Bug @ 30m`。
3.  **结果**：
    - "开发功能A" 被自动挂起，并在 30 分钟后提醒你回来。
    - "修复Bug" 成为当前专注任务。

### 场景二：记录思路断点
在写代码时突然想到一个优化点，但不想中断心流。
1.  按 `Alt + Space`。
2.  输入 `> 待优化：这里可以用缓存`。
3.  **结果**：备注被安全地记录在当前任务中，你可以继续专注。

### 场景三：开启后台训练
需要跑一个耗时 2 小时的模型训练。
1.  按 `Alt + Space`。
2.  输入 `DeepSeek微调` ` 4090 @ 2h` (假设你有个 GPU 叫 4090)。
3.  **结果**：后台开始倒计时，不会占用你的 Focus 时间。

---

## 6. 设置与数据
- 数据存储在本地 SQLite 数据库中。
- 可以通过主界面左侧边栏底部的 **Settings** 进入设置页面 (调整 Overlay 位置、管理 GPU 列表等)。
- 关闭应用为最小化，右键托盘图标可彻底退出。

---

*版本: 2.0 (Context-Switching Edition)*
